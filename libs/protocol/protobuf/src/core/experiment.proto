syntax = "proto3";

package cr8r.core;

message Experiment {
    enum Status {
        AWAITING_RUNNER = 0;
        RUNNING = 1;
        FINISHED = 2;
    }

    message Progress {
        uint32 total_scenarios = 1;
        uint32 completed_scenarios = 2;
    }

    string id = 1;
    Status status = 2;
    Progress progress = 3;
}

// ----- //

// ----- //

message ExperimentDefinition {
    message TrySystem {
        string system = 1;
    }

    message TryToolchain {
        string toolchain = 1;
    }

    oneof experiment_definition_inner {
        TrySystem try_system = 1;
        TryToolchain try_toolchain = 2;
    }
}