syntax = "proto3";

package cr8r.core;

message PEvent {
    message PPing {
        //
    }

    message PSystemMsg {
        string msg = 1;
    }

    message PUserMsg {
        string msg = 1;
    }

    message PProcessOutput {
        string line = 1;
    }

    message PExperimentStarted {
        //
    }

    message PExperimentSucceeded {
        //
    }

    message PExperimentFailed {
        string cause = 1;
    }

    message POpcodeSucceeded {
        uint32 id = 1;
    }

    message POpcodeFailed {
        uint32 id = 1;
        string cause = 2;
    }

    string created_at = 1;

    oneof op {
        PPing ping = 100;

        PSystemMsg system_msg = 200;
        PUserMsg user_msg = 201;
        PProcessOutput process_output = 202;

        PExperimentStarted experiment_started = 300;
        PExperimentSucceeded experiment_succeeded = 301;
        PExperimentFailed experiment_failed = 302;

        POpcodeSucceeded opcode_succeeded = 400;
        POpcodeFailed opcode_failed = 401;
    }
}