syntax = "proto3";

package cr8r.core;

message PDefinition {
    message PToolchain {
        string version = 1;
    }

    message PDependency {
        message POverride {
            string version = 1;
        }

        message PPatch {
            string source_attachment_id = 1;
        }

        string registry = 1;
        string name = 2;

        oneof action {
            POverride override = 10;
            PPatch patch = 11;
        }
    }

    PToolchain toolchain = 1;
    repeated PDependency dependencies = 2;
}